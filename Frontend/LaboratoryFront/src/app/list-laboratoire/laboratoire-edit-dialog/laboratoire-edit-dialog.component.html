<div class="edit-laboratoire-dialog">
  <h2 mat-dialog-title>Modifier le Laboratoire</h2>

  <mat-dialog-content>
    <form #editForm="ngForm" (ngSubmit)="updatePartiellementLaboratoire()">
      <div class="form-grid">
        <!-- Nom -->
        <mat-form-field>
          <mat-label>Nom</mat-label>
          <input matInput 
                 name="nom" 
                 [(ngModel)]="laboratoireData.nom" 
                 required>
        </mat-form-field>

        <!-- Logo Upload -->
        <div class="logo-upload">
          <label>Logo</label>
          <input type="file" 
                 (change)="onFileSelect($event)"
                 accept="image/jpeg,image/png,image/gif">
          <div *ngIf="logoPreview">
            <img [src]="logoPreview" alt="Logo Preview" class="logo-preview">
          </div>
        </div>

        <!-- NRC (Read-Only) -->
        <mat-form-field>
          <mat-label>NRC</mat-label>
          <input matInput 
                 name="nrc" 
                 [value]="laboratoireData.nrc" 
                 disabled>
        </mat-form-field>

        <!-- Date d'activation -->
        <mat-form-field>
          <mat-label>Date d'Activation</mat-label>
          <input matInput 
                 name="dateActivation" 
                 [(ngModel)]="laboratoireData.dateActivation" 
                 type="date">
        </mat-form-field>

        <!-- Numéro de Téléphone -->
        <mat-form-field>
          <mat-label>Numéro de Téléphone</mat-label>
          <input matInput 
                 name="numTel" 
                 [(ngModel)]="laboratoireData.numTel" 
                 pattern="[0-9]*">
        </mat-form-field>

        <!-- Fax -->
        <mat-form-field>
          <mat-label>Fax</mat-label>
          <input matInput 
                 name="fax" 
                 [(ngModel)]="laboratoireData.fax" 
                 pattern="[0-9]*">
        </mat-form-field>

        <!-- Email -->
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput 
                 name="email" 
                 [(ngModel)]="laboratoireData.email" 
                 type="email" 
                 email>
        </mat-form-field>

        <!-- Adresse Détaillée -->
        <mat-form-field>
          <mat-label>Numéro de Voie</mat-label>
          <input matInput 
                 name="numVoie" 
                 [(ngModel)]="laboratoireData.numVoie">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Nom de Voie</mat-label>
          <input matInput 
                 name="nomVoie" 
                 [(ngModel)]="laboratoireData.nomVoie">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Code Postal</mat-label>
          <input matInput 
                 name="codePostal" 
                 [(ngModel)]="laboratoireData.codePostal" 
                 pattern="[0-9]*">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Ville</mat-label>
          <input matInput 
                 name="ville" 
                 [(ngModel)]="laboratoireData.ville">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Commune</mat-label>
          <input matInput 
                 name="commune" 
                 [(ngModel)]="laboratoireData.commune">
        </mat-form-field>

        <!-- Active Checkbox -->
        <mat-checkbox 
          name="active" 
          [(ngModel)]="laboratoireData.active">
          Actif
        </mat-checkbox>
      </div>

      <mat-dialog-actions>
        <button mat-button type="button" (click)="onNoClick()">Annuler</button>
        <button mat-raised-button 
                color="primary" 
                type="submit" 
                [disabled]="!editForm.form.valid">
          Enregistrer
        </button>
      </mat-dialog-actions>
    </form>
  </mat-dialog-content>
</div>